/* Test nested UFCS in cc_std_out.write() with multiple CCString variables.
   This tests that s.as_slice() inside cc_std_out.write() is correctly rewritten
   even when there are multiple CCString variables in the same scope. */
#include <ccc/std/prelude.cch>

int main(void) {
    @arena {
        // First string - simple case
        CCString s1 = cc_string_new(arena);
        s1.append("first:");
        cc_std_out.write(s1);
        
        // Second string - nested UFCS case
        CCString s2 = cc_string_new(arena);
        s2.append("second:");
        cc_std_out.write(
            s2.as_slice()
        );
        
        // Third string - single line nested UFCS
        CCString s3 = cc_string_new(arena);
        s3.append("third\n");
        cc_std_out.write(s3.as_slice());
    }
    return 0;
}
