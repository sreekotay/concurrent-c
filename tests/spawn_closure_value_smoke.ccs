// Smoke: spawn should accept a CCClosure0 value (not just a literal).
#include "cc_closure.cch"

int g = 0;

int main(void) {
    CCClosure0 c = () => { g = 9; };
    @nursery {
        spawn (c);
    }
    return (g == 9) ? 0 : 1;
}

