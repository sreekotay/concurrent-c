#include <ccc/cc_closure.cch>

int main(void) {
    int g = 0;
    int* gp = &g;
    int v = 11;

    CCClosure1 c = x => { int* p = (int*)x; if (p) *gp = *p; };
    /* Call appears inside an expression (comma operator), not as a statement. */
    return (c(&v), (g == 11 ? 0 : 1));
}

