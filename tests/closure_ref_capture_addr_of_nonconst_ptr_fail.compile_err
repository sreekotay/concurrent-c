passing '&x' to 'maybe_write_i32' may mutate shared state
