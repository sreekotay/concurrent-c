#include <ccc/cc_runtime.cch>
#include <ccc/std/task.cch>

@async int f(int x) {
    if (x == 0) {
        return 0;
    } else if (x == 1) {
        return 1;
    } else {
        return 2;
    }
}

int main(void) {
    int a = cc_block_on(int, f(0));
    int b = cc_block_on(int, f(1));
    int c = cc_block_on(int, f(2));
    return (a == 0 && b == 1 && c == 2) ? 0 : 1;
}

