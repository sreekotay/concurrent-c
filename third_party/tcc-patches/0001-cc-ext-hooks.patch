diff --git a/tcc.h b/tcc.h
index 2b6e4edf..30dc1cf9 100644
--- a/tcc.h
+++ b/tcc.h
@@ -940,7 +940,7 @@ struct TCCState {
     int cc_node_stack_cap;
     /* CC UFCS scratch: last member access before a call. */
     int cc_last_member_tok;
-    int cc_last_member_flags; /* bit0=recv_is_ptr (->) */
+    int cc_last_member_flags; /* bit0=syntactic arrow (->), bit1=recv type is pointer */
     int cc_last_member_line;
     int cc_last_member_col;
     int cc_last_rparen_line;
diff --git a/tccgen.c b/tccgen.c
index 9ec4162e..1b7b5077 100644
--- a/tccgen.c
+++ b/tccgen.c
@@ -6711,7 +6711,10 @@ special_math_val:
             }
             if (cc_is_ufcs) {
                 tcc_state->cc_last_member_tok = cc_method_tok;
-                tcc_state->cc_last_member_flags = cc_recv_is_ptr ? 1 : 0;
+                /* bit0 = syntactic arrow (->), bit1 = receiver type is pointer
+                   Note: vtop check ensures vstack is not empty before type access */
+                int cc_recv_type_is_ptr = (vtop >= vstack && (vtop->type.t & VT_PTR)) ? 1 : 0;
+                tcc_state->cc_last_member_flags = (cc_recv_is_ptr ? 1 : 0) | (cc_recv_type_is_ptr ? 2 : 0);
                 tcc_state->cc_last_member_col = cc_member_col;
                 tcc_state->cc_last_member_line = cc_member_line;
 
